<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Analytics Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-6">
        <!-- Header with Report Controls -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4">
                <h1 class="text-2xl font-bold text-gray-900 mb-4 lg:mb-0">Comprehensive Analytics Dashboard</h1>
                <div class="flex flex-col sm:flex-row gap-3">
                    <select id="reportType" class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="overview">Executive Overview</option>
                        <option value="attendance">Attendance Deep Dive</option>
                        <option value="training">Training Analytics</option>
                        <option value="feedback">Feedback Analysis</option>
                        <option value="financial">Financial Metrics</option>
                        <option value="operational">Operational Efficiency</option>
                    </select>
                    <select id="timeRange" class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="7d">Last 7 Days</option>
                        <option value="30d" selected>Last 30 Days</option>
                        <option value="90d">Last 90 Days</option>
                        <option value="1y">Last Year</option>
                        <option value="custom">Custom Range</option>
                    </select>
                    <button onclick="generateExecutiveReport()" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors">
                        <i class="fas fa-file-pdf mr-2"></i>Generate PDF
                    </button>
                    <button onclick="scheduleReport()" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors">
                        <i class="fas fa-calendar-alt mr-2"></i>Schedule
                    </button>
                </div>
            </div>
        </div>

        <!-- Executive Summary Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-blue-100">Total Employees</p>
                        <p class="text-3xl font-bold" id="totalEmployeesCount">--</p>
                        <p class="text-sm text-blue-200 mt-2" id="employeeGrowth">-- growth this month</p>
                    </div>
                    <div class="w-16 h-16 bg-blue-400 bg-opacity-50 rounded-full flex items-center justify-center">
                        <i class="fas fa-users text-2xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-green-500 to-green-700 text-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-green-100">Productivity Score</p>
                        <p class="text-3xl font-bold" id="productivityScore">--</p>
                        <p class="text-sm text-green-200 mt-2" id="productivityTrend">-- vs last period</p>
                    </div>
                    <div class="w-16 h-16 bg-green-400 bg-opacity-50 rounded-full flex items-center justify-center">
                        <i class="fas fa-chart-line text-2xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-purple-500 to-purple-700 text-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-purple-100">Training Completion</p>
                        <p class="text-3xl font-bold" id="trainingCompletion">--%</p>
                        <p class="text-sm text-purple-200 mt-2" id="trainingHours">-- hours completed</p>
                    </div>
                    <div class="w-16 h-16 bg-purple-400 bg-opacity-50 rounded-full flex items-center justify-center">
                        <i class="fas fa-graduation-cap text-2xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-orange-500 to-orange-700 text-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-orange-100">Customer Satisfaction</p>
                        <p class="text-3xl font-bold" id="customerSatisfaction">--</p>
                        <p class="text-sm text-orange-200 mt-2" id="satisfactionChange">-- change</p>
                    </div>
                    <div class="w-16 h-16 bg-orange-400 bg-opacity-50 rounded-full flex items-center justify-center">
                        <i class="fas fa-smile text-2xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Performance Indicators -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-900 mb-6">Key Performance Indicators</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Attendance KPI -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-medium text-gray-900">Attendance Rate</h3>
                        <i class="fas fa-clock text-blue-600"></i>
                    </div>
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <div>
                                <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200">
                                    Current
                                </span>
                            </div>
                            <div class="text-right">
                                <span class="text-xs font-semibold inline-block text-blue-600" id="attendanceKPI">
                                    92%
                                </span>
                            </div>
                        </div>
                        <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200">
                            <div id="attendanceProgress" style="width:92%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"></div>
                        </div>
                    </div>
                    <p class="text-xs text-gray-600">Target: 95%</p>
                </div>

                <!-- Training KPI -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-medium text-gray-900">Training Progress</h3>
                        <i class="fas fa-book text-green-600"></i>
                    </div>
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <div>
                                <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-green-600 bg-green-200">
                                    Progress
                                </span>
                            </div>
                            <div class="text-right">
                                <span class="text-xs font-semibold inline-block text-green-600" id="trainingKPI">
                                    78%
                                </span>
                            </div>
                        </div>
                        <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-green-200">
                            <div id="trainingProgress" style="width:78%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"></div>
                        </div>
                    </div>
                    <p class="text-xs text-gray-600">Target: 85%</p>
                </div>

                <!-- Satisfaction KPI -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-medium text-gray-900">Employee Satisfaction</h3>
                        <i class="fas fa-heart text-red-600"></i>
                    </div>
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <div>
                                <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-red-600 bg-red-200">
                                    Score
                                </span>
                            </div>
                            <div class="text-right">
                                <span class="text-xs font-semibold inline-block text-red-600" id="satisfactionKPI">
                                    4.3/5
                                </span>
                            </div>
                        </div>
                        <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-red-200">
                            <div id="satisfactionProgress" style="width:86%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-red-500"></div>
                        </div>
                    </div>
                    <p class="text-xs text-gray-600">Target: 4.5/5</p>
                </div>
            </div>
        </div>

        <!-- Main Analytics Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-8">
            <!-- Attendance Trends -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Attendance Trends</h3>
                <canvas id="attendanceTrendsChart" width="400" height="250"></canvas>
            </div>

            <!-- Training Analytics -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Training Module Usage</h3>
                <canvas id="trainingUsageChart" width="400" height="250"></canvas>
            </div>

            <!-- Department Performance -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Department Performance</h3>
                <canvas id="departmentPerformanceChart" width="400" height="250"></canvas>
            </div>

            <!-- Financial Overview -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Financial Metrics</h3>
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">Total Payroll</span>
                        <span class="text-lg font-semibold text-gray-900" id="totalPayroll">$--</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">Overtime Costs</span>
                        <span class="text-lg font-semibold text-orange-600" id="overtimeCosts">$--</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">Training Investment</span>
                        <span class="text-lg font-semibold text-blue-600" id="trainingInvestment">$--</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">Pending Loans</span>
                        <span class="text-lg font-semibold text-red-600" id="pendingLoansAmount">$--</span>
                    </div>
                </div>
            </div>

            <!-- System Usage -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">System Usage</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-robot text-blue-600 mr-3"></i>
                            <span class="text-sm text-gray-600">Guardian AI</span>
                        </div>
                        <span class="text-sm font-semibold text-gray-900" id="guardianAiUsage">-- sessions</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-microphone text-green-600 mr-3"></i>
                            <span class="text-sm text-gray-600">Speech Practice</span>
                        </div>
                        <span class="text-sm font-semibold text-gray-900" id="speechUsage">-- sessions</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-volume-up text-purple-600 mr-3"></i>
                            <span class="text-sm text-gray-600">Text-to-Speech</span>
                        </div>
                        <span class="text-sm font-semibold text-gray-900" id="ttsUsage">-- uses</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-teal-600 mr-3"></i>
                            <span class="text-sm text-gray-600">Eligibility Checks</span>
                        </div>
                        <span class="text-sm font-semibold text-gray-900" id="eligibilityUsage">-- checks</span>
                    </div>
                </div>
            </div>

            <!-- Recent Alerts -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">System Alerts</h3>
                <div id="systemAlerts" class="space-y-3">
                    <!-- Alerts will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Detailed Analytics Section -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-900 mb-6">Detailed Analytics</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Employee Performance Rankings -->
                <div>
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Top Performers</h3>
                    <div id="topPerformers" class="space-y-3">
                        <!-- Top performers will be loaded here -->
                    </div>
                </div>

                <!-- Areas for Improvement -->
                <div>
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Areas for Improvement</h3>
                    <div id="improvementAreas" class="space-y-3">
                        <!-- Improvement areas will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Export and Sharing Options -->
        <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Export & Share Options</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button onclick="exportToPDF()" class="flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                    <i class="fas fa-file-pdf text-red-600 text-xl mr-3"></i>
                    <span class="text-gray-900 font-medium">Export as PDF</span>
                </button>
                <button onclick="exportToExcel()" class="flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                    <i class="fas fa-file-excel text-green-600 text-xl mr-3"></i>
                    <span class="text-gray-900 font-medium">Export to Excel</span>
                </button>
                <button onclick="emailReport()" class="flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                    <i class="fas fa-envelope text-blue-600 text-xl mr-3"></i>
                    <span class="text-gray-900 font-medium">Email Report</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        const API_BASE_URL = 'http://localhost:5000/api';
        let attendanceTrendsChart, trainingUsageChart, departmentPerformanceChart;

        // Mock comprehensive data
        const mockAnalyticsData = {
            employees: {
                total: 25,
                growth: '+12%',
                departments: {
                    'Customer Service': 8,
                    'Claims Processing': 7,
                    'Patient Care': 6,
                    'Administration': 4
                }
            },
            attendance: {
                rate: 92,
                trend: '+5%',
                weekly: [88, 90, 91, 89, 93, 95, 92]
            },
            training: {
                completion: 78,
                hours: 1250,
                modules: {
                    'Guardian AI': 156,
                    'Speech Practice': 134,
                    'TTS': 98,
                    'Phonetic': 112,
                    'Eligibility': 87
                }
            },
            financial: {
                payroll: 125000,
                overtime: 8500,
                trainingInvestment: 15000,
                pendingLoans: 22500
            },
            satisfaction: {
                score: 4.3,
                trend: '+0.2'
            },
            productivity: {
                score: 87,
                trend: '+8%'
            }
        };

        async function loadComprehensiveData() {
            try {
                // In a real implementation, these would be actual API calls
                // For now, using mock data
                
                updateExecutiveSummary();
                generateCharts();
                updateSystemUsage();
                updateSystemAlerts();
                updateTopPerformers();
                updateImprovementAreas();
                updateFinancialMetrics();
            } catch (error) {
                console.error('Error loading comprehensive data:', error);
                // Use mock data as fallback
                updateExecutiveSummary();
                generateCharts();
                updateSystemUsage();
                updateSystemAlerts();
                updateTopPerformers();
                updateImprovementAreas();
                updateFinancialMetrics();
            }
        }

        function updateExecutiveSummary() {
            const data = mockAnalyticsData;
            
            document.getElementById('totalEmployeesCount').textContent = data.employees.total;
            document.getElementById('employeeGrowth').textContent = `${data.employees.growth} growth this month`;
            
            document.getElementById('productivityScore').textContent = data.productivity.score;
            document.getElementById('productivityTrend').textContent = `${data.productivity.trend} vs last period`;
            
            document.getElementById('trainingCompletion').textContent = `${data.training.completion}%`;
            document.getElementById('trainingHours').textContent = `${data.training.hours} hours completed`;
            
            document.getElementById('customerSatisfaction').textContent = data.satisfaction.score;
            document.getElementById('satisfactionChange').textContent = `${data.satisfaction.trend} change`;

            // Update KPI progress bars
            document.getElementById('attendanceKPI').textContent = `${data.attendance.rate}%`;
            document.getElementById('attendanceProgress').style.width = `${data.attendance.rate}%`;
            
            document.getElementById('trainingKPI').textContent = `${data.training.completion}%`;
            document.getElementById('trainingProgress').style.width = `${data.training.completion}%`;
            
            document.getElementById('satisfactionKPI').textContent = data.satisfaction.score;
            document.getElementById('satisfactionProgress').style.width = `${(data.satisfaction.score / 5) * 100}%`;
        }

        function generateCharts() {
            generateAttendanceTrendsChart();
            generateTrainingUsageChart();
            generateDepartmentPerformanceChart();
        }

        function generateAttendanceTrendsChart() {
            const data = mockAnalyticsData.attendance.weekly;
            const labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];

            const ctx = document.getElementById('attendanceTrendsChart').getContext('2d');
            if (attendanceTrendsChart) attendanceTrendsChart.destroy();
            
            attendanceTrendsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Attendance Rate (%)',
                        data: data,
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 80,
                            max: 100
                        }
                    }
                }
            });
        }

        function generateTrainingUsageChart() {
            const data = mockAnalyticsData.training.modules;

            const ctx = document.getElementById('trainingUsageChart').getContext('2d');
            if (trainingUsageChart) trainingUsageChart.destroy();
            
            trainingUsageChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(data),
                    datasets: [{
                        label: 'Sessions',
                        data: Object.values(data),
                        backgroundColor: [
                            '#3B82F6',
                            '#10B981',
                            '#8B5CF6',
                            '#F59E0B',
                            '#06B6D4'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function generateDepartmentPerformanceChart() {
            const departments = Object.keys(mockAnalyticsData.employees.departments);
            const performance = departments.map(() => Math.floor(Math.random() * 20) + 80); // Mock performance scores

            const ctx = document.getElementById('departmentPerformanceChart').getContext('2d');
            if (departmentPerformanceChart) departmentPerformanceChart.destroy();
            
            departmentPerformanceChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: departments,
                    datasets: [{
                        label: 'Performance Score',
                        data: performance,
                        borderColor: 'rgb(16, 185, 129)',
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        pointBackgroundColor: 'rgb(16, 185, 129)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(16, 185, 129)'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        function updateSystemUsage() {
            const usage = mockAnalyticsData.training.modules;
            
            document.getElementById('guardianAiUsage').textContent = `${usage['Guardian AI']} sessions`;
            document.getElementById('speechUsage').textContent = `${usage['Speech Practice']} sessions`;
            document.getElementById('ttsUsage').textContent = `${usage['TTS']} uses`;
            document.getElementById('eligibilityUsage').textContent = `${usage['Eligibility']} checks`;
        }

        function updateSystemAlerts() {
            const alerts = [
                {
                    type: 'warning',
                    icon: 'fa-exclamation-triangle',
                    color: 'yellow',
                    message: '3 employees have low training completion rates'
                },
                {
                    type: 'info',
                    icon: 'fa-info-circle',
                    color: 'blue',
                    message: 'Monthly attendance report is ready for review'
                },
                {
                    type: 'success',
                    icon: 'fa-check-circle',
                    color: 'green',
                    message: 'All systems operating normally'
                }
            ];

            const container = document.getElementById('systemAlerts');
            container.innerHTML = alerts.map(alert => `
                <div class="flex items-start p-3 bg-${alert.color}-50 border border-${alert.color}-200 rounded-lg">
                    <i class="fas ${alert.icon} text-${alert.color}-600 mt-0.5 mr-3"></i>
                    <p class="text-sm text-${alert.color}-800">${alert.message}</p>
                </div>
            `).join('');
        }

        function updateTopPerformers() {
            const performers = [
                { name: 'Alice Johnson', department: 'Customer Service', score: 96 },
                { name: 'Bob Martinez', department: 'Claims Processing', score: 94 },
                { name: 'Carol Smith', department: 'Patient Care', score: 91 },
                { name: 'David Wilson', department: 'Administration', score: 89 },
                { name: 'Eva Brown', department: 'Customer Service', score: 87 }
            ];

            const container = document.getElementById('topPerformers');
            container.innerHTML = performers.map((performer, index) => {
                const medals = ['🥇', '🥈', '🥉', '🏅', '⭐'];
                return `
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center">
                            <span class="text-lg mr-3">${medals[index]}</span>
                            <div>
                                <p class="text-sm font-medium text-gray-900">${performer.name}</p>
                                <p class="text-xs text-gray-500">${performer.department}</p>
                            </div>
                        </div>
                        <span class="text-lg font-bold text-green-600">${performer.score}%</span>
                    </div>
                `;
            }).join('');
        }

        function updateImprovementAreas() {
            const areas = [
                {
                    area: 'Training Completion Rate',
                    current: '78%',
                    target: '85%',
                    action: 'Implement mandatory training schedule'
                },
                {
                    area: 'Average Response Time',
                    current: '18 hours',
                    target: '12 hours',
                    action: 'Streamline feedback process'
                },
                {
                    area: 'System Adoption',
                    current: '72%',
                    target: '90%',
                    action: 'Provide additional system training'
                }
            ];

            const container = document.getElementById('improvementAreas');
            container.innerHTML = areas.map(area => `
                <div class="border border-orange-200 bg-orange-50 rounded-lg p-4">
                    <h4 class="font-medium text-orange-900 mb-2">${area.area}</h4>
                    <div class="grid grid-cols-2 gap-2 text-sm mb-2">
                        <div>
                            <span class="text-orange-700">Current: </span>
                            <span class="font-semibold">${area.current}</span>
                        </div>
                        <div>
                            <span class="text-orange-700">Target: </span>
                            <span class="font-semibold">${area.target}</span>
                        </div>
                    </div>
                    <p class="text-xs text-orange-800">${area.action}</p>
                </div>
            `).join('');
        }

        function updateFinancialMetrics() {
            const financial = mockAnalyticsData.financial;
            
            document.getElementById('totalPayroll').textContent = `$${financial.payroll.toLocaleString()}`;
            document.getElementById('overtimeCosts').textContent = `$${financial.overtime.toLocaleString()}`;
            document.getElementById('trainingInvestment').textContent = `$${financial.trainingInvestment.toLocaleString()}`;
            document.getElementById('pendingLoansAmount').textContent = `$${financial.pendingLoans.toLocaleString()}`;
        }

        function generateExecutiveReport() {
            // TODO: Implement PDF generation
            alert('Executive report PDF generation - functionality to be implemented');
        }

        function scheduleReport() {
            // TODO: Implement report scheduling
            alert('Report scheduling functionality - to be implemented');
        }

        function exportToPDF() {
            // TODO: Implement PDF export
            alert('PDF export functionality - to be implemented');
        }

        function exportToExcel() {
            // TODO: Implement Excel export
            alert('Excel export functionality - to be implemented');
        }

        function emailReport() {
            // TODO: Implement email functionality
            alert('Email report functionality - to be implemented');
        }

        // Event listeners
        document.getElementById('reportType').addEventListener('change', function() {
            const reportType = this.value;
            // TODO: Update dashboard based on report type
            console.log('Switching to report type:', reportType);
        });

        document.getElementById('timeRange').addEventListener('change', function() {
            const timeRange = this.value;
            // TODO: Update data based on time range
            console.log('Switching to time range:', timeRange);
        });

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadComprehensiveData();
            
            // Auto-refresh every 5 minutes
            setInterval(loadComprehensiveData, 300000);
        });
    </script>
</body>
</html>